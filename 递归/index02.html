<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>


<script>

    let categories = [
        {id: "animals", parent: null},
        {id: "mammals", parent: "animals"},
        {id: "cats", parent: "mammals"},
        {id: "dogs", parent: "mammals"},
        {id: "chihuahua", parent: "dogs"},
        {id: "labrador", parent: "dogs"},
        {id: "persian", parent: "cats"},
        {id: "siamese", parent: "cats"},
    ];

    let node = {};
    let makeTree = (categories, parent) => {
        let node = {};
        categories.filter(c => c.parent == parent)
            .forEach(c => node[c.id] = makeTree(categories, c.id));
        return node;
    };
    console.log(JSON.stringify(makeTree(categories, null),null, 2));


//    {
//        "animals": {
//        "mammals": {
//            "cats": {
//                "persian": {},
//                "siamese": {}
//            },
//            "dogs": {
//                "chihuahua": {},
//                "labrador": {}
//            }
//        }
//    }
//    }

</script>

</body>
</html>